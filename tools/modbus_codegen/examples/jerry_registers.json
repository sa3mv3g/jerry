{
  "device": {
    "name": "jerry",
    "description": "Jerry Industrial Controller Modbus Interface",
    "slave_id": 1,
    "version": "1.0.0"
  },
  "enums": [
    {
      "name": "device_state",
      "description": "Device operating state",
      "values": [
        { "name": "IDLE", "value": 0, "description": "Device is idle" },
        { "name": "RUNNING", "value": 1, "description": "Device is running" },
        { "name": "PAUSED", "value": 2, "description": "Device is paused" },
        { "name": "ERROR", "value": 3, "description": "Device has error" },
        { "name": "MAINTENANCE", "value": 4, "description": "Device in maintenance mode" }
      ]
    },
    {
      "name": "alarm_level",
      "description": "Alarm severity level",
      "values": [
        { "name": "NONE", "value": 0, "description": "No alarm" },
        { "name": "INFO", "value": 1, "description": "Informational" },
        { "name": "WARNING", "value": 2, "description": "Warning" },
        { "name": "CRITICAL", "value": 3, "description": "Critical alarm" }
      ]
    }
  ],
  "groups": [
    { "name": "system", "description": "System control and status" },
    { "name": "io", "description": "Digital I/O" },
    { "name": "analog", "description": "Analog measurements" },
    { "name": "config", "description": "Configuration parameters" }
  ],
  "registers": {
    "coils": [
      {
        "name": "system_enable",
        "address": 0,
        "description": "System enable control",
        "default_value": false,
        "group": "system"
      },
      {
        "name": "output_1",
        "address": 1,
        "description": "Digital output 1",
        "default_value": false,
        "group": "io"
      },
      {
        "name": "output_2",
        "address": 2,
        "description": "Digital output 2",
        "default_value": false,
        "group": "io"
      },
      {
        "name": "output_3",
        "address": 3,
        "description": "Digital output 3",
        "default_value": false,
        "group": "io"
      },
      {
        "name": "output_4",
        "address": 4,
        "description": "Digital output 4",
        "default_value": false,
        "group": "io"
      },
      {
        "name": "alarm_ack",
        "address": 10,
        "description": "Alarm acknowledge",
        "default_value": false,
        "group": "system"
      },
      {
        "name": "reset_counters",
        "address": 11,
        "description": "Reset all counters",
        "default_value": false,
        "group": "system"
      }
    ],
    "discrete_inputs": [
      {
        "name": "input_1",
        "address": 0,
        "description": "Digital input 1",
        "group": "io"
      },
      {
        "name": "input_2",
        "address": 1,
        "description": "Digital input 2",
        "group": "io"
      },
      {
        "name": "input_3",
        "address": 2,
        "description": "Digital input 3",
        "group": "io"
      },
      {
        "name": "input_4",
        "address": 3,
        "description": "Digital input 4",
        "group": "io"
      },
      {
        "name": "system_ready",
        "address": 10,
        "description": "System ready status",
        "group": "system"
      },
      {
        "name": "alarm_active",
        "address": 11,
        "description": "Alarm active flag",
        "group": "system"
      }
    ],
    "holding_registers": [
      {
        "name": "device_state",
        "address": 0,
        "description": "Current device state",
        "data_type": "enum",
        "enum_type": "device_state",
        "access": "read_only",
        "group": "system"
      },
      {
        "name": "setpoint_1",
        "address": 1,
        "description": "Setpoint 1",
        "data_type": "uint16",
        "default_value": 1000,
        "min_value": 0,
        "max_value": 10000,
        "unit": "units",
        "group": "config"
      },
      {
        "name": "setpoint_2",
        "address": 2,
        "description": "Setpoint 2",
        "data_type": "uint16",
        "default_value": 2000,
        "min_value": 0,
        "max_value": 10000,
        "unit": "units",
        "group": "config"
      },
      {
        "name": "alarm_threshold",
        "address": 3,
        "description": "Alarm threshold value",
        "data_type": "uint16",
        "default_value": 8000,
        "min_value": 0,
        "max_value": 10000,
        "unit": "units",
        "group": "config"
      },
      {
        "name": "output_mode",
        "address": 4,
        "description": "Output operating mode",
        "data_type": "uint16",
        "default_value": 0,
        "min_value": 0,
        "max_value": 3,
        "group": "config"
      },
      {
        "name": "comm_timeout",
        "address": 5,
        "description": "Communication timeout",
        "data_type": "uint16",
        "default_value": 5000,
        "min_value": 100,
        "max_value": 60000,
        "unit": "ms",
        "group": "config"
      },
      {
        "name": "temperature_offset",
        "address": 10,
        "description": "Temperature calibration offset",
        "data_type": "int16",
        "default_value": 0,
        "unit": "0.1 degC",
        "group": "config"
      },
      {
        "name": "float_setpoint",
        "address": 20,
        "description": "Floating point setpoint",
        "data_type": "float32",
        "size": 2,
        "default_value": 25.5,
        "unit": "degC",
        "group": "config"
      }
    ],
    "input_registers": [
      {
        "name": "firmware_version",
        "address": 0,
        "description": "Firmware version (major.minor)",
        "data_type": "uint16",
        "group": "system"
      },
      {
        "name": "uptime_hours",
        "address": 1,
        "description": "System uptime",
        "data_type": "uint16",
        "unit": "hours",
        "group": "system"
      },
      {
        "name": "analog_input_1",
        "address": 10,
        "description": "Analog input 1 raw value",
        "data_type": "uint16",
        "unit": "counts",
        "group": "analog"
      },
      {
        "name": "analog_input_2",
        "address": 11,
        "description": "Analog input 2 raw value",
        "data_type": "uint16",
        "unit": "counts",
        "group": "analog"
      },
      {
        "name": "temperature",
        "address": 20,
        "description": "Temperature measurement",
        "data_type": "int16",
        "scale_factor": 0.1,
        "unit": "degC",
        "group": "analog"
      },
      {
        "name": "humidity",
        "address": 21,
        "description": "Humidity measurement",
        "data_type": "uint16",
        "scale_factor": 0.1,
        "unit": "%RH",
        "group": "analog"
      },
      {
        "name": "pressure",
        "address": 22,
        "description": "Pressure measurement",
        "data_type": "uint32",
        "size": 2,
        "scale_factor": 0.01,
        "unit": "Pa",
        "group": "analog"
      },
      {
        "name": "error_count",
        "address": 30,
        "description": "Total error count",
        "data_type": "uint16",
        "group": "system"
      },
      {
        "name": "alarm_code",
        "address": 31,
        "description": "Current alarm code",
        "data_type": "uint16",
        "group": "system"
      },
      {
        "name": "alarm_level",
        "address": 32,
        "description": "Current alarm level",
        "data_type": "enum",
        "enum_type": "alarm_level",
        "group": "system"
      }
    ]
  }
}
